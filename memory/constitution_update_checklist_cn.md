# 宪章更新检查清单

在修订宪章（`/memory/constitution.md`）时，务必同步更新所有相关文档，确保内容一致。

## 需同步的模板

### 增加或修改任意条款时：
- [ ] `/templates/plan-template.md` —— 更新宪章检查部分
- [ ] `/templates/spec-template.md` —— 如影响需求/范围需同步更新
- [ ] `/templates/tasks-template.md` —— 如需新增任务类型需同步更新
- [ ] `/.claude/commands/plan.md` —— 如规划流程有变需同步更新
- [ ] `/.claude/commands/tasks.md` —— 如任务生成方式有变需同步更新
- [ ] `/CLAUDE.md` —— 更新运行时开发指引

### 针对具体条款的更新：

#### 第一条（库优先）：
- [ ] 确保模板强调库的创建
- [ ] 更新 CLI 命令示例
- [ ] 增加 llms.txt 文档要求

#### 第二条（命令行接口）：
- [ ] 在模板中补充 CLI 参数要求
- [ ] 增加文本输入输出协议提示

#### 第三条（测试优先）：
- [ ] 在所有模板中调整测试顺序
- [ ] 强调 TDD 要求
- [ ] 增加测试审批门槛

#### 第四条（集成测试）：
- [ ] 列出集成测试触发条件
- [ ] 更新测试类型优先级
- [ ] 增加真实依赖要求

#### 第五条（可观测性）：
- [ ] 在模板中增加日志要求
- [ ] 包含多级日志流转
- [ ] 更新性能监控相关内容

#### 第六条（版本管理）：
- [ ] 增加版本号递增提醒
- [ ] 补充破坏性变更流程
- [ ] 更新迁移要求

#### 第七条（简洁性）：
- [ ] 更新项目数量上限
- [ ] 增加反模式示例
- [ ] 补充 YAGNI 原则提醒

## 验证步骤

1. **提交宪章变更前：**
   - [ ] 所有模板均已引用新要求
   - [ ] 示例已与新规则保持一致
   - [ ] 各文档间无矛盾

2. **模板更新后：**
   - [ ] 按新模板走一遍示例实施计划
   - [ ] 确认所有宪章要求均已覆盖
   - [ ] 检查模板自洽（无需查阅宪章即可理解）

3. **版本追踪：**
   - [ ] 更新宪章版本号
   - [ ] 在模板页脚注明版本
   - [ ] 在宪章历史中记录修订

## 常见遗漏

请注意以下易被忽略的更新项：
- 命令文档（`/commands/*.md`）
- 模板中的检查项
- 示例代码/命令
- 不同领域的变体（Web、移动端、CLI 等）
- 文档间的交叉引用

## 模板同步状态

上次同步检查：2025-07-16
- 宪章版本：2.1.1
- 模板同步情况：❌（缺少版本管理、可观测性细节）

---

*本检查清单用于确保宪章原则在所有项目文档中得到一致贯彻。*